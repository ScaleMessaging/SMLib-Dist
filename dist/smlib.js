var B=Object.defineProperty;var G=(u,e,t)=>e in u?B(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t;var i=(u,e,t)=>(G(u,typeof e!="symbol"?e+"":e,t),t),$=(u,e,t)=>{if(!e.has(u))throw TypeError("Cannot "+t)};var l=(u,e,t)=>($(u,e,"read from private field"),t?t.call(u):e.get(u)),f=(u,e,t)=>{if(e.has(u))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(u):e.set(u,t)},w=(u,e,t,r)=>($(u,e,"write to private field"),r?r.call(u,t):e.set(u,t),t);var y=(u,e,t)=>($(u,e,"access private method"),t);const V=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}};V();var T,E,S,D,q,I,k,U,J,j,P,x,A,H;class K{constructor(){f(this,I);f(this,U);f(this,j);f(this,A);f(this,T,"YHWH");f(this,E,"\u{1F3C4}\u200D SMLOG:");f(this,S,!1);f(this,D,!1);f(this,q,void 0);i(this,"install",(e={src:"",name:"",type:"script",target:"normal",id:"",rel:"",cb:null})=>{let{src:t,name:r,type:n,target:o,id:s,rel:d,cb:c}=e;if(this.isObjEmpty(e))throw new Error("Looks like you entered an empty {} object!");if(!e||!t||!r)throw new Error("SMLib_Utils::install requires an {} object with required `src` and `name` properties.");if(c&&typeof c!="function")throw new Error("The callback must be a Function!");if(typeof t!="string"||typeof r!="string")throw new Error("src and name must be type string!");this.log("Installing: ",r);let a;n==="script"||!n?(a=document.createElement("script"),a.src=t):(a=document.createElement("link"),a.id=s||"_DefaultCSS_",a.rel=d||"stylesheet",a.href=t),c&&(a.onreadystatechange=function(){(a.readyState==="loaded"||a.readyState==="complete")&&(a.onreadystatechange=null,c())},a.onload=function(){c()}),o==="normal"||!o?document.documentElement.firstChild.appendChild(a):this.searchElement({el:`${o}`,cb:h=>{h.before(a)}}),this.log("Done installing: ",r)});i(this,"installInlineScript",(e={name:"",code:""})=>{let{name:t,code:r}=e;if(this.isObjEmpty(e))throw new Error("Looks like you entered an empty {} object!");if(!e||!t||!r)throw new Error("SMLib_Utils::installInlineScript requires an {} object with required `name` and `code` properties.");if(typeof t!="string"||typeof r!="string")throw new Error("name and code must be type string!");this.log("Installing: ",t);const n=document.createTextNode(r),o=document.createElement("script");o.type="text/javascript",o.appendChild(n),document.documentElement.firstChild.appendChild(o),this.log("Done installing: ",t)});i(this,"log",(...e)=>{if(l(this,D)){console.log(`${l(this,E)}force:`,...e);return}if(l(this,S)&&l(this,q)===l(this,T)){console.log(`${l(this,E)}`,...e);return}const t=localStorage.getItem("localsm");t&&t===l(this,T)&&!l(this,S)&&y(this,U,J).call(this,!0,t),t&&t===l(this,T)&&console.log(`${l(this,E)}`,...e)});i(this,"genRandomID",(e=1)=>{if(typeof e!="number"||e<1)throw new Error("length must be a positive integer");const t=new Uint32Array(e);return self.crypto.getRandomValues(t),t[0]});i(this,"genUUID",()=>self.crypto.randomUUID());i(this,"readyStateInterval",(e,t=30,r=!0)=>{if(!e)throw new Error("A callback is required!");if(typeof t!="number")throw new Error("timeout must be a number!");if(typeof r!="boolean")throw new Error("complete must be a boolean!");if(e&&typeof e!="function")throw new Error("The callback must be a Function!");const n=setInterval(()=>{this.log("readyStateInterval: Waiting for readyState....",document.readyState);let o;r&&(o=document.readyState==="complete"),r||(o=document.readyState==="interactive"||document.readyState==="complete"),o&&(clearInterval(n),this.log("readyStateInterval for readyState \u{1F525} Done....."),e())},t)});i(this,"isObjEmpty",e=>{if(!e)throw new Error("Object {} is required!");if(e&&typeof e!="object")throw new Error("Argument must be an Object!");return Object.keys(e).length===0&&e.constructor===Object});i(this,"searchElement",(e={el:"",cb:null,fallback:null,all:!1,to:10,max:9e3})=>{let{el:t,cb:r,fallback:n,all:o,to:s,max:d}=e;if(this.isObjEmpty(e))throw new Error("Looks like you entered an empty {} object!");if(!e||!t)throw new Error("SMLib_Utils::searchElement requires an {} object with required `el` property.");if(r&&typeof r!="function"||n&&typeof n!="function")throw new Error("The callback or fallback must be Functions!");if(o!==void 0&&typeof o!="boolean")throw new Error("`all` must be boolean type");if(s&&typeof s!="number")throw new Error("`to` must be number type");if(d&&typeof d!="number")throw new Error("`max` must be number type");let c;const a=d||9e3,h=s||10;let m=!1,b=0;c=setInterval(()=>{if(m||b>a){this.log(`\u{1F31C}STOPINTERVALELEMENT -- ${t} ::::::: `,c),clearInterval(c),!m&&n&&n();return}this.log("\u26F1\uFE0F SEARCHINGelement -- ",t),b+=h;let p=o?document.querySelectorAll(t):document.querySelector(t);p&&(this.log("\u2705 FOUNDelement --",t),m=!0,r&&r(p))},h)});i(this,"extendedSearchElement",(e={parent:null,el:"",cb:null,fallback:null,all:!1,to:10,max:9e3})=>{let{parent:t,el:r,cb:n,fallback:o,all:s,to:d,max:c}=e;if(this.isObjEmpty(e))throw new Error("Looks like you entered an empty {} object!");if(!e||!r||!t)throw new Error("SMLib_Utils::extendedSearchElement requires an {} object with required `parent` and `el` property.");if(typeof t!="object")throw new Error("Parent property must be an object|node");if(n&&typeof n!="function"||o&&typeof o!="function")throw new Error("The callback or fallback must be Functions!");if(s!==void 0&&typeof s!="boolean")throw new Error("`all` must be boolean type");if(d&&typeof d!="number")throw new Error("`to` must be number type");if(c&&typeof c!="number")throw new Error("`max` must be number type");let a;const h=c||9e3,m=d||10;let b=!1,p=0,M=t||document;a=setInterval(()=>{if(b||p>h){this.log(`\u{1F31C}STOPINTERVALELEMENT -- ${r} ::::::: `,a),clearInterval(a),!b&&o&&o();return}this.log("\u26F1\uFE0F SEARCHINGelement -- ",r),p+=m;const O=s?M.querySelectorAll(r):M.querySelector(r);O&&(this.log("\u2705 FOUNDelement --",r),b=!0,n&&n(O))},m)});i(this,"searchModObject",(e={name:"",objToSearch:null,cb:null,fallback:null,assignCB:null,assign:!1,to:10,max:9e3})=>{let{name:t,objToSearch:r,cb:n,fallback:o,assignCB:s,assign:d,to:c,max:a}=e;if(this.isObjEmpty(e))throw new Error("Looks like you entered an empty {} object!");if(!e||!t)throw new Error("SMLib_Utils::extendedSearchElement requires an {} object with required `name` and `objToSearch` property.");if(n&&typeof n!="function"||o&&typeof o!="function"||s&&typeof s!="function")throw new Error("The callback or fallback or assignCB must be Functions!");if(c&&typeof c!="number")throw new Error("`to` must be number type");if(a&&typeof a!="number")throw new Error("`max` must be number type");let h;const m=a||9e3,b=c||10;let p=!1,M=0;h=setInterval(()=>{if(p||M>m){this.log(`\u{1F31C}STOPINTERVALMOD -- ${t} :::::: `,h),clearInterval(h),!p&&o&&o();return}M+=b;const O=typeof r=="function"?r():r;this.log("\u{1F9E9} SEARCHINGmod -- ",t),O&&(this.log(`\u2705 FOUNDmod -- ${t}`),p=!0,d&&s&&s(r),n&&n())},b)});i(this,"goto",(e,t="_self")=>{if(!e)throw new Error("URL is required!");if(typeof e!="string")throw new Error("url must be a string!");if(typeof t!="string")throw new Error("target must be a string!");window.open(e,t)});i(this,"duplicateChecker",(e,t=null)=>{if(!e)throw new Error("Target is required!");if(typeof e!="string")throw new Error("target must be a string!");if(t&&typeof t!="function")throw new Error("The callback must be a Function!");document.querySelector(e)||(this.log(`:NODUPS: ${e}`),t&&t())});i(this,"toNode",e=>{if(!e)throw new Error("The string to parse is required!");if(typeof e!="string")throw new Error("Argument must be a string!");return document.createRange().createContextualFragment(e)});i(this,"putBeforeElement",(e,t)=>{y(this,I,k).call(this,e,t,"beforebegin")});i(this,"putInsideElementFirst",(e,t)=>{y(this,I,k).call(this,e,t,"afterbegin")});i(this,"putInsideElementLast",(e,t)=>{y(this,I,k).call(this,e,t,"beforeend")});i(this,"putAfterElement",(e,t)=>{y(this,I,k).call(this,e,t,"afterend")});i(this,"enableTailwind",e=>{if(!e)throw new Error("Cannot enable tailwind. Please check argument!");if(e!=="scm_enable_tailwind")throw new Error("Cannot enable tailwind. Please check argument!");if(typeof e!="string")throw new Error("Tailwind `internal` type error!");this.install({src:"https://cdn.tailwindcss.com",name:"Tailwind",target:"#_SMMainCustomCSS_",cb:l(this,x)})});i(this,"getLogStates",()=>({enabled:l(this,S),key:l(this,q)}));i(this,"setLogPrependText",e=>{if(!e)throw new Error("A new string/text is required!");w(this,E,e)});i(this,"setForceDebug",e=>{if(typeof e!="boolean")throw new Error("New state must be a boolean!");w(this,D,e)});i(this,"scrollToElement",(e,t=0)=>{this.searchElement({el:`${e}`,cb:r=>{const n=r.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:n-t,behavior:"smooth"})}})});i(this,"detectMediaQuery",(e="max",t,r,n=!1)=>{let o;e==="max"&&(o=window.matchMedia(`(max-width: ${t}px)`)),e==="min"&&(o=window.matchMedia(`(min-width: ${t}px)`));function s(d){d.matches&&r&&r(!0),!d.matches&&r&&r(!1)}o&&o.removeEventListener("change",s),n&&o.addEventListener("change",s),s(o)});f(this,x,e=>{const t=e?{...e}:{};t.prefix="scm_",this.searchModObject({name:"Tailwind instance",objToSearch:y(this,A,H),cb:()=>{tailwind.config=t,this.log("Done setting tailwind internal default config and external?")}})})}}T=new WeakMap,E=new WeakMap,S=new WeakMap,D=new WeakMap,q=new WeakMap,I=new WeakSet,k=function(e,t,r){if(!e)throw new Error("element param is required!");if(e&&typeof e!="string"&&typeof e!="object")throw new Error("element param must be a string or a node object!");if(!t)throw new Error("stringObj param is required!");if(t&&typeof t!="string"&&typeof t!="object")throw new Error("stringObj param must be either a string or a node object!");if(!r)throw new Error("position param is required!");if(r&&r!=="beforebegin"&&r!=="afterbegin"&&r!=="beforeend"&&r!=="afterend")throw new Error("position param must be either beforebegin, afterbegin, beforeend, or afterend.");if(typeof e=="string")return this.searchElement({el:e,cb:n=>{y(this,j,P).call(this,n,r,t)}}),null;y(this,j,P).call(this,e,r,t)},U=new WeakSet,J=function(e,t){!t||(w(this,S,e),w(this,q,t))},j=new WeakSet,P=function(e,t,r){if(typeof r=="string"){e.insertAdjacentHTML(t,r);return}switch(t){case"beforebegin":e.before(r);break;case"afterbegin":e.prepend(r);break;case"beforeend":e.append(r);break;case"afterend":e.after(r);break;default:console.debug("Position param did not match!")}},x=new WeakMap,A=new WeakSet,H=function(){return!!window.tailwind};var L,v,g,C;class X extends K{constructor(){super(...arguments);f(this,L,[]);f(this,v,"");f(this,g,"");f(this,C,void 0);i(this,"initiateApp",(t,r)=>{if(!t)throw new Error("A callback is required!");if(t&&typeof t!="function")throw new Error("runner must be a Function!");if(r&&typeof r!="string")throw new Error("dupcheck must be a String!");const n=()=>{(l(this,g)==="web"||l(this,g)==="lp")&&t(),l(this,g)==="spa"&&this.readyStateInterval(t)};r?this.duplicateChecker(r,n):n()});i(this,"setJQuery",t=>{if(!t)throw new Error("jQuery instance is required!");w(this,C,t)});i(this,"getJQuery",()=>l(this,C));i(this,"setModalIDs",t=>{w(this,L,[...l(this,L),...t])});i(this,"getModalIDs",()=>l(this,L));i(this,"setUniqueID",t=>{w(this,v,t)});i(this,"getUniqueID",()=>l(this,v));i(this,"setTestType",t=>{w(this,g,t)});i(this,"getTestType",()=>l(this,g))}}L=new WeakMap,v=new WeakMap,g=new WeakMap,C=new WeakMap;var Q,R,N,F,_;class Y extends X{constructor(t={uniqueID:"",modalID:[],type:"web",cssOn:!0,tailwind:!1,initJQuery:!1,usingRequire:!1}){super();f(this,Q,"Scale Messaging Dev Tool.");f(this,R,"0.3.0");f(this,N,"https://scalemessaging.com");f(this,F,"https://cdn.jsdelivr.net/gh/ScaleMessaging/SMLib-Dist@main/dist/smlib.css");f(this,_,void 0);i(this,"initiateJQuery",t=>{if(t){this.log("\u{1F4A1} Using Require"),window==null||window.requirejs(["jquery"],r=>{this.setJQuery(r),this.log("\u{1F4A1} Successfully attached RequireJS jquery")},r=>{this.log("Require_SetupError",r)});return}this.log("\u{1F4A1} Using Default JQuery"),this.searchModObject({name:"JQueryModule",objToSearch:(window==null?void 0:window.jQuery)||(window==null?void 0:window.convert),max:3e3,cb:()=>{var r;this.log(`\u{1F4A1} ActiveJQueries => Convert: ${!!((r=window.convert)!=null&&r.$)}, window.jQuery: ${!!window.jQuery}`),this.setJQuery(window.jQuery||window.convert.$)}})});i(this,"getInfo",()=>({info:l(this,Q),version:l(this,R),docs:l(this,N),instanceID:l(this,_),uniqueID:this.getUniqueID(),modalIDs:this.getModalIDs(),jquery:this.getJQuery(),testType:this.getTestType()}));const{uniqueID:r,modalID:n,type:o,cssOn:s,tailwind:d,initJQuery:c,usingRequire:a}=t;if(this.isObjEmpty(t))throw new Error("Looks like you entered an empty {} object!");if(o&&o!=="web"&&o!=="spa"&&o!=="lp")throw new Error("Type must be 'web' || 'spa' || 'lp' only!");if(r&&typeof r!="string")throw new Error("uniqueID must be string type");if(n&&typeof n!="object")throw new Error("modalID must be an array[] type");if(s!==void 0&&typeof s!="boolean")throw new Error("cssOn must be boolean type");if(d!==void 0&&typeof d!="boolean")throw new Error("tailwind must be boolean type");if(c!==void 0&&typeof c!="boolean")throw new Error("initJQuery must be boolean type");if(a!==void 0&&typeof a!="boolean")throw new Error("usingRequire must be boolean type");const h=this.genUUID(),m=this.genRandomID();w(this,_,h),this.setUniqueID(r||`sm__unik-${m}`),this.setModalIDs(n&&n.length>0?n:[]),this.setTestType(o||"web"),s===void 0&&typeof s!="boolean"&&this.install({src:l(this,F),name:"SMLibCSS",type:"link",id:"_SMMainCustomCSS_"}),d&&this.enableTailwind("scm_enable_tailwind"),c&&this.initiateJQuery(a),console.debug("\u{1F4A1} SMLib is active!")}}Q=new WeakMap,R=new WeakMap,N=new WeakMap,F=new WeakMap,_=new WeakMap;window.SMLib=Y;
